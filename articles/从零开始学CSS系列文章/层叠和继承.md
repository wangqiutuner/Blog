# CSS中的层叠和继承

## 一、层叠

什么选择器在层叠中胜出取决于三个因素（这些都是按重量级顺序排列的——前面的的一种会否决后一种）：**重要性（Importance）-> 专用性（Specificity）-> 源代码次序（Source order）**

即根据重要性已经判决出应该使用哪一条声明便不用进行专用性判断，根据专用性判决出使用哪一条声明便不用进行源代码次序判断。

### 重要性

在CSS中，有一个特别的语法可以让一条规则总是优先于其他规则：`!important`。把它加在属性值的后面可以使这条声明有无比强大的力量。

注意: 重载这个 `!important` 声明的唯一方法是在后面的源码或者是一个拥有更高专用性的源码中包含相同的 `!important` 特性的声明。

### 专用性

一个选择器具有的专用性的量是用四种不同的值（或组件）来衡量的，它们可以被认为是千位，百位，十位和个位——在四个列中的四个简单数字：

- 千位：如果声明是在`style` 属性中该列加1分（这样的声明没有选择器，所以它们的专用性总是1000。）否则为0。
- 百位：在整个选择器中每包含一个**ID选择器**就在该列中加1分。
- 十位：在整个选择器中每包含一个**类选择器**、**属性选择器**、或者**伪类**就在该列中加1分。
- 个位：在整个选择器中每包含一个**元素选择器**或**伪元素**就在该列中加1分。

注意：通用选择器 (`*`), 复合选择器 (`+`, `>`, `~`, `' '`) 和否定伪类 (`:not`) 在专用性中无影响。

如果多个选择器具有相同的重要性和专用性，则选择哪一个选择器取决于源代码次序（Source order）。

### 源代码次序

如上所述，如果多个相互竞争的选择器具有相同的重要性和专用性，那么第三个因素将帮助决定哪一个规则获胜——后面的规则将战胜先前的规则。

## 二、继承

CSS继承是我们需要研究的最后一部分，以获取所有信息并了解什么样式应用于元素。其思想是，应用于某个元素的一些属性值将由该元素的子元素继承，而有些则不会。

- **自动继承属性**：color、font、text-align、list-style（文本相关属性、列表相关属性、颜色相关属性）
- **非继承属性**：background、border、position。
